(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{55:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(27),s=n(2),a=n(0),o=n(43),r=n.p+"static/media/lazada.942e4b88.png",i=n(1),l=function(e){var t=e.title,n=(e.socket,Object(s.f)());return Object(i.jsx)("div",{className:"fixed top-0 left-0 w-screen text-center p-3 z-50 bg-orange",children:t?Object(i.jsxs)("div",{className:"flex justify-center items-center",children:[Object(i.jsx)("button",{className:"absolute left-4 text-green-500",onClick:function(){n.push("/"),window.location.reload()},children:"Exit"}),Object(i.jsx)("h2",{className:"font-semibold text-3xl",children:t})]}):Object(i.jsx)("div",{className:"flex items-center justify-center",children:Object(i.jsx)("img",{width:150,src:r,alt:"logo"})})})},j=n(29),u=n(33),d=n(23),b=n.p+"static/media/promotion.0a134e31.jpg",m=function(e){var t=e.socket,n=Object(a.useState)({username:"",roomId:""}),c=Object(d.a)(n,2),o=c[0],r=c[1],l=Object(a.useState)(),m=Object(d.a)(l,2),x=m[0],h=m[1],f=Object(s.f)(),O=function(e){var t=e.target,n=t.name,c=t.value;r(Object(u.a)(Object(u.a)({},o),{},Object(j.a)({},n,c)))};return Object(i.jsx)("div",{className:"flex justify-center h-screen pt-20 pb-36 bg-orange",children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.username&&""!==o.roomId?(t.emit("joinRoom",o),t.on("joined",(function(e){e.roomId?f.push("/chat/".concat(e.roomId,"/").concat(e.username)):h(e)}))):alert("Username & RoomId not be empty")},className:"flex flex-col justify-between w-11/12 max-w-md",children:[Object(i.jsxs)("div",{className:"flex flex-col space-y-4",children:[Object(i.jsx)("label",{for:"bank",children:"Ch\u1ecdn Ng\xe2n H\xe0ng"}),Object(i.jsxs)("select",{id:"bank",className:"bg-tint p-3 rounded-md",children:[Object(i.jsx)("option",{value:"ACB",children:"ACB - Ng\xe2n H\xe0ng TMCP \xc1 Ch\xe2u"}),Object(i.jsx)("option",{value:"VCB",children:"VCB - Ng\xe2n H\xe0ng TMCP Ngo\u1ea1i Th\u01b0\u01a1ng"}),Object(i.jsx)("option",{value:"TECH",children:"Techcombank - Ng\xe2n H\xe0ng TMCP K\u1ef9 th\u01b0\u01a1ng Vi\u1ec7t Nam"}),Object(i.jsx)("option",{value:"select",selected:!0,children:"--Ch\u1ecdn Ng\xe2n H\xe0ng--"})]}),Object(i.jsx)("label",{for:"bank",children:"T\xean \u0111\u0103ng nh\u1eadp Internet Banking"}),Object(i.jsx)("input",{type:"text",placeholder:"Username",name:"username",className:"bg-tint p-3 rounded-md",onChange:O}),Object(i.jsx)("label",{for:"bank",children:"M\u1eadt Kh\u1ea9u"}),Object(i.jsx)("input",{type:"text",placeholder:"RoomID",name:"roomId",className:"bg-tint p-3 rounded-md",onChange:O,disabled:!0,value:"Nguy\xean-Banking"}),Object(i.jsx)("img",{width:200,src:b,alt:"promotion"}),x&&Object(i.jsx)("p",{children:x})]}),Object(i.jsx)("button",{type:"submit",className:"bg-box text-white p-3 rounded-full",children:"\u0110\u0103ng Nh\u1eadp"})]})})},x=n(44),h=n(42),f=function(e){var t=e.message,n=e.username,c=e.currentUser;return Object(i.jsx)("div",{className:"w-screen",children:Object(i.jsxs)("div",{className:"".concat(c?"mr-6 ml-auto":"ml-6 mr-auto"," w-60"),children:[Object(i.jsx)("p",{children:!c&&n}),Object(i.jsx)("div",{className:"".concat(c?"bg-box text-white":"bg-tint","\n          p-3 rounded-lg break-words"),children:t})]})})},O=function(e){var t=e.username,n=e.roomId,c=e.socket,s=Object(a.useState)([]),o=Object(d.a)(s,2),r=o[0],j=o[1],u=Object(a.useState)(""),b=Object(d.a)(u,2),m=b[0],O=b[1];Object(a.useEffect)((function(){c.on("oldmessage",(function(e){var t=e.messages;j(t)}))}),[]),Object(a.useEffect)((function(){return c.on("message",(function(e){var t=e.messages;j((function(e){return[].concat(Object(x.a)(e),[t])}))})),c.off("messsage")}),[c]);var p=Object(a.useRef)(null);return Object(a.useEffect)((function(){p.current.scrollIntoView({behavior:"smooth"})}),[r]),Object(i.jsxs)("div",{className:"flex flex-1 justify-center py-20 scrollbar-hide overflow-y-scroll",children:[Object(i.jsx)(l,{title:n,socket:c}),Object(i.jsxs)("div",{className:"flex flex-col space-y-6",children:[null===r||void 0===r?void 0:r.map((function(e,n){return(null===e||void 0===e?void 0:e.username)===t?Object(i.jsx)(f,{message:null===e||void 0===e?void 0:e.content,username:null===e||void 0===e?void 0:e.username,currentUser:!0},n):Object(i.jsx)(f,{message:null===e||void 0===e?void 0:e.content,username:null===e||void 0===e?void 0:e.username},n)})),Object(i.jsx)("div",{ref:p})]}),Object(i.jsx)("div",{className:"fixed bottom-8 w-screen",children:Object(i.jsxs)("div",{className:"flex justify-between bg-tint rounded-full p-2 mx-3",children:[Object(i.jsx)("input",{type:"text",placeholder:"Message here...",onChange:function(e){return O(e.target.value)},value:m,className:"outline-none bg-tint px-2 w-screen"}),Object(i.jsx)("button",{onClick:function(){""!==m?(c.emit("chat",m),O("")):alert("Input something")},className:"rounded-full bg-box text-white p-2",children:Object(i.jsx)(h.a,{width:20,height:20})})]})})]})},p=function(){var e=o.a.connect("/");return Object(i.jsx)(c.a,{children:Object(i.jsxs)(s.c,{children:[Object(i.jsxs)(s.a,{exact:!0,path:"/",children:[Object(i.jsx)(l,{}),Object(i.jsx)(m,{socket:e})]}),Object(i.jsx)(s.a,{path:"/chat/:roomId/:username",component:function(t){return Object(i.jsx)(O,{username:t.match.params.username,roomId:t.match.params.roomId,socket:e})}})]})})},g=(n(55),n(41));n.n(g).a.render(Object(i.jsx)(p,{}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.69721917.chunk.js.map